
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	
<head>
	<link rel="stylesheet" href="css/style_compileTuto.css"></link>
</head>

<body>
	
	<ui:param name="tutoId" value="#{param['tutoId']}"></ui:param>
	<ui:param name="currentTuto" value="${tutoController.getTutoFromId(tutoId)}"></ui:param>
	<ui:param name="utenteProfile" value="${currentTuto.getUtente()}"></ui:param>
	<ui:param name="categorie" value="${categoriaController.inizializzaCategorie()}"></ui:param>
	
	${tutoController.setId(currentTuto.id)}
	${tutoController.setVisualizzazioni(currentTuto.visualizzazioni)}
	${tutoController.setNome(currentTuto.nome)}
	${tutoController.setDescrizione(currentTuto.descrizione)}
	${tutoController.setCategoria(currentTuto.categoria)}
	
<div id="editTutoBox">
			<h1>Modifica il Tuto</h1>		
			<f:view>
				<h:form>
				<h:inputText value="#{tutoController.id}" style="display: none;"></h:inputText>
				<h:inputText value="#{tutoController.visualizzazioni}" style="display: none;"></h:inputText>
				<div>Nome: <h:inputText value="#{tutoController.nome}"	
					styleClass="input-comile-tuto-text"
                    required="true"
                    requiredMessage="nome del tuto obbligatorio"
                    id="nome" /> <h:message for="nome" />
				</div>
				<div>Descrizione: <h:inputTextarea value="#{tutoController.descrizione}" 
					styleClass="input-compile-tuto-textarea"
                    required="true"
                    requiredMessage="descrizione obbligatoria"
                    id="descrizione" /> <h:message for="descrizione" />
				</div>
				<div>Categoria:	
				<h:selectOneMenu style="width: 40%;" value="#{tutoController.categoriaNome}">
   					 <f:selectItems value="#{categorie}" var="categoria" itemValue="#{categoria}" />
				</h:selectOneMenu>
				</div>
				<div>
					<h:commandButton value="Invia tuto"  action="#{tutoController.modificaTuto}"/>
				</div>		
				</h:form>
			</f:view>
</div>
</body>
</html>